# MovementInfo

## Client Version 1.12

### Wowm Representation

Autogenerated from `wowm` file at [`wow_message_parser/wowm/world/movement/common_movement.wowm:40`](https://github.com/gtker/wow_messages/tree/main/wow_message_parser/wowm/world/movement/common_movement.wowm#L40).
```rust,ignore
struct MovementInfo {
    MovementFlags flags;
    u32 timestamp;
    Vector3d position;
    f32 orientation;
    if (flags & ON_TRANSPORT) {
        TransportInfo transport;
    }
    if (flags & SWIMMING) {
        f32 pitch;
    }
    f32 fall_time;
    if (flags & JUMPING) {
        f32 z_speed;
        f32 cos_angle;
        f32 sin_angle;
        f32 xy_speed;
    }
    if (flags & SPLINE_ELEVATION) {
        f32 spline_elevation;
    }
}
```
### Body

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| 0x00 | 4 / - | [MovementFlags](movementflags.md) | flags |  |  |
| 0x04 | 4 / Little | u32 | timestamp |  |  |
| 0x08 | 12 / - | [Vector3d](vector3d.md) | position |  |  |
| 0x14 | 4 / Little | f32 | orientation |  |  |

If flags contains `ON_TRANSPORT`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| 0x18 | - / - | [TransportInfo](transportinfo.md) | transport |  |  |

If flags contains `SWIMMING`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 4 / Little | f32 | pitch |  |  |
| - | 4 / Little | f32 | fall_time |  |  |

If flags contains `JUMPING`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 4 / Little | f32 | z_speed |  |  |
| - | 4 / Little | f32 | cos_angle |  |  |
| - | 4 / Little | f32 | sin_angle |  |  |
| - | 4 / Little | f32 | xy_speed |  |  |

If flags contains `SPLINE_ELEVATION`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 4 / Little | f32 | spline_elevation |  |  |

# MovementInfo

## Client Version 2.4.3

### Wowm Representation

Autogenerated from `wowm` file at [`wow_message_parser/wowm/world/movement/common_movement_2_4_3.wowm:32`](https://github.com/gtker/wow_messages/tree/main/wow_message_parser/wowm/world/movement/common_movement_2_4_3.wowm#L32).
```rust,ignore
struct MovementInfo {
    MovementFlags flags;
    u8 extra_flags;
    u32 timestamp;
    Vector3d position;
    f32 orientation;
    if (flags & ON_TRANSPORT) {
        TransportInfo transport;
    }
    if (flags & SWIMMING) {
        f32 pitch1;
    }
    else if (flags & ONTRANSPORT) {
        f32 pitch2;
    }
    f32 fall_time;
    if (flags & JUMPING) {
        f32 z_speed;
        f32 cos_angle;
        f32 sin_angle;
        f32 xy_speed;
    }
    if (flags & SPLINE_ELEVATION) {
        f32 spline_elevation;
    }
}
```
### Body

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| 0x00 | 4 / - | [MovementFlags](movementflags.md) | flags |  |  |
| 0x04 | 1 / - | u8 | extra_flags |  |  |
| 0x05 | 4 / Little | u32 | timestamp |  |  |
| 0x09 | 12 / - | [Vector3d](vector3d.md) | position |  |  |
| 0x15 | 4 / Little | f32 | orientation |  |  |

If flags contains `ON_TRANSPORT`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| 0x19 | - / - | [TransportInfo](transportinfo.md) | transport |  |  |

If flags contains `SWIMMING`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 4 / Little | f32 | pitch1 |  |  |

Else If flags contains `ONTRANSPORT`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 4 / Little | f32 | pitch2 |  |  |
| - | 4 / Little | f32 | fall_time |  |  |

If flags contains `JUMPING`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 4 / Little | f32 | z_speed |  |  |
| - | 4 / Little | f32 | cos_angle |  |  |
| - | 4 / Little | f32 | sin_angle |  |  |
| - | 4 / Little | f32 | xy_speed |  |  |

If flags contains `SPLINE_ELEVATION`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 4 / Little | f32 | spline_elevation |  |  |

# MovementInfo

## Client Version 3.3.5

### Wowm Representation

Autogenerated from `wowm` file at [`wow_message_parser/wowm/world/movement/common_movement_3_3_5.wowm:97`](https://github.com/gtker/wow_messages/tree/main/wow_message_parser/wowm/world/movement/common_movement_3_3_5.wowm#L97).
```rust,ignore
struct MovementInfo {
    MovementFlags flags;
    ExtraMovementFlags extra_flags;
    u32 timestamp;
    Vector3d position;
    f32 orientation;
    if (flags & ON_TRANSPORT) {
        TransportInfo transport;
    }
    if (flags & SWIMMING) {
        f32 pitch1;
    }
    else if (flags & FLYING) {
        f32 pitch2;
    }
    f32 fall_time;
    if (flags & FALLING) {
        f32 z_speed;
        f32 cos_angle;
        f32 sin_angle;
        f32 xy_speed;
    }
    if (flags & SPLINE_ELEVATION) {
        f32 spline_elevation;
    }
}
```
### Body

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| 0x00 | 4 / - | [MovementFlags](movementflags.md) | flags |  |  |
| 0x04 | 2 / - | [ExtraMovementFlags](extramovementflags.md) | extra_flags |  |  |
| 0x06 | 4 / Little | u32 | timestamp |  |  |
| 0x0A | 12 / - | [Vector3d](vector3d.md) | position |  |  |
| 0x16 | 4 / Little | f32 | orientation |  |  |

If flags contains `ON_TRANSPORT`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| 0x1A | - / - | [TransportInfo](transportinfo.md) | transport |  |  |

If flags contains `SWIMMING`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 4 / Little | f32 | pitch1 |  |  |

Else If flags contains `FLYING`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 4 / Little | f32 | pitch2 |  |  |
| - | 4 / Little | f32 | fall_time |  |  |

If flags contains `FALLING`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 4 / Little | f32 | z_speed |  |  |
| - | 4 / Little | f32 | cos_angle |  |  |
| - | 4 / Little | f32 | sin_angle |  |  |
| - | 4 / Little | f32 | xy_speed |  |  |

If flags contains `SPLINE_ELEVATION`:

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 4 / Little | f32 | spline_elevation |  |  |

